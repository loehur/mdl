import{r as g,j as T,k as w,l as ne,x as oe,c as r,a as e,m as P,d as u,t as d,e as x,v as m,F as O,p as U,w as E,q as R,n as Q,o}from"./index-B_ysXbFF.js";const re={class:"max-w-7xl mx-auto space-y-6"},ae={class:"bg-gradient-to-br from-indigo-500 to-blue-600 rounded-2xl p-4 md:p-6 text-white shadow-xl relative overflow-hidden"},le={class:"relative z-10"},ie={class:"text-3xl md:text-4xl lg:text-5xl font-bold tracking-tight mb-3 break-words"},de={class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs md:text-sm"},ue={class:"flex items-center gap-1"},ce={class:"font-semibold text-white break-words"},pe={class:"flex items-center gap-1"},ge={class:"font-semibold text-white break-words"},fe={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},xe={class:"border-b border-gray-100 px-4 py-3 bg-gray-50"},me={class:"space-y-3"},be={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2"},ve={key:0,class:"text-xs text-red-600 bg-red-50 px-3 py-2 rounded-lg border border-red-100"},ye={class:"border-b border-gray-100 px-6 py-4 flex flex-col sm:flex-row gap-3 items-stretch sm:items-center justify-between"},he={class:"flex items-center gap-2"},ke={class:"overflow-x-auto"},we={class:"w-full text-left text-sm"},_e={class:"divide-y divide-gray-50"},Ce={key:0},Me={colspan:"6",class:"px-6 py-12 text-center text-gray-400"},je={class:"flex flex-col items-center gap-3"},Be={class:"text-sm"},De={key:1,class:"animate-pulse"},Te={key:2},Ee={class:"px-6 py-4 whitespace-nowrap"},Se={class:"flex items-center gap-3"},Ke={key:0,class:"w-8 h-8 rounded-lg bg-red-100 text-red-600 flex items-center justify-center flex-shrink-0"},Ve={key:1,class:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center flex-shrink-0"},He={class:"text-[10px] font-bold text-gray-400 uppercase tracking-widest leading-none mb-1"},ze={class:"text-xs font-mono text-gray-600"},$e={class:"px-6 py-4"},Fe={class:"font-bold text-gray-800 tracking-tight"},Le={key:0,class:"text-xs text-gray-500 mt-1 italic"},Pe={key:1,class:"text-[10px] text-blue-600 font-bold mt-1 uppercase tracking-wider bg-blue-50 inline-block px-2 py-0.5 rounded"},Oe={class:"px-6 py-4 text-right"},Ue={class:"px-6 py-4 text-center"},Re=["onClick"],Ie={key:1,class:"text-gray-200 p-2 inline-block cursor-not-allowed",title:"Hanya bisa menghapus transaksi hari ini"},Ne={class:"bg-white rounded-2xl w-full max-w-lg shadow-2xl max-h-[90vh] flex flex-col animate-fade-in-down"},qe={class:"p-6 border-b flex justify-between items-center bg-gradient-to-r from-red-50 to-pink-50"},Je={key:0,class:"absolute right-3 top-3 text-green-500"},Ae={key:1,class:"absolute z-20 w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-xl max-h-72 overflow-y-auto"},Ye={key:0},Ge=["onClick"],Qe={class:"font-semibold text-gray-800"},We={class:"text-xs text-gray-500 mt-0.5"},Xe={key:1},Ze=["onClick"],et={class:"font-semibold text-gray-800"},tt={class:"text-xs text-gray-500 mt-0.5"},st={key:2,class:"px-4 py-6 text-gray-400 text-center text-sm"},nt={class:"grid grid-cols-2 gap-4"},ot={class:"p-6 border-t bg-gray-50 flex gap-3"},rt=["disabled"],at={key:0},lt={key:1},it={class:"bg-white rounded-2xl w-full max-w-md shadow-2xl animate-fade-in-down"},dt={class:"p-6 border-t bg-gray-50 flex gap-3 rounded-b-2xl"},ut={class:"bg-white rounded-3xl w-full max-w-lg shadow-2xl animate-fade-in-down overflow-hidden"},ct={class:"p-6 border-b flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50"},pt={class:"bg-blue-50 rounded-2xl p-4 flex items-center gap-4 border border-blue-100 mb-2"},gt={class:"flex-1"},ft={class:"font-black text-blue-900 leading-none"},xt={class:"grid grid-cols-1 gap-6"},mt=["max"],bt={key:0,class:"mt-2 text-[10px] font-black text-rose-500 uppercase tracking-wider ml-1 animate-pulse"},vt={class:"p-8 border-t bg-gray-50/50 flex gap-4"},yt=["disabled"],ht={key:0},kt={key:1},wt={key:0,class:"fixed top-4 right-4 z-50 animate-fade-in-down"},_t={class:"flex items-start gap-3"},Ct={class:"flex-shrink-0"},Mt={key:0,class:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},jt={key:1,class:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Bt={class:"flex-1"},Dt={class:"font-medium text-gray-800"},St={__name:"CashierCash",setup(Tt){const y=g(!1),S=g(!0),h=g([]),_=g([]),H=g(0),C=g(!1),M=g(!1),l=T({start:"",end:""}),j=g(""),b=T({show:!1,id:null}),v=T({show:!1,message:"",type:"success"});function c(n,t="success"){v.message=n,v.type=t,v.show=!0,setTimeout(()=>v.show=!1,3e3)}const f=g(""),K=g(!1),z=g(null),a=T({category_id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],notes:""}),i=T({amount:0,description:"Transfer ke Kas Besar",notes:""}),$=w(()=>{const n=_.value.filter(s=>s.is_expense===1);if(!f.value)return n;const t=f.value.toLowerCase();return n.filter(s=>s.name.toLowerCase().includes(t)||s.description&&s.description.toLowerCase().includes(t))}),F=w(()=>{const n=_.value.filter(s=>s.is_expense===0);if(!f.value)return n;const t=f.value.toLowerCase();return n.filter(s=>s.name.toLowerCase().includes(t)||s.description&&s.description.toLowerCase().includes(t))});w(()=>_.value.filter(n=>n.is_expense===1)),w(()=>_.value.filter(n=>n.is_expense===0));function I(n){a.category_id=n.id,f.value=n.name,K.value=!1}const N=n=>{if(z.value&&!z.value.contains(n.target)&&(K.value=!1,a.category_id)){const t=_.value.find(s=>s.id===a.category_id);t&&f.value!==t.name&&(f.value=t.name)}},L=w(()=>!l.start&&!l.end?h.value:h.value.filter(n=>{const t=new Date(n.transaction_date),s=l.start?new Date(l.start):null,p=l.end?new Date(l.end):null;return s&&p?t>=s&&t<=p:s?t>=s:p?t<=p:!0})),q=w(()=>L.value.reduce((n,t)=>n+Number(t.amount),0)),B=w(()=>H.value-q.value);async function W(){try{const t=await(await fetch("/api/Beauty_Salon/Orders")).json();if(t.success){let s=0;t.data.forEach(p=>{if(p.status==="completed"){const k=Number(p.pay_cash)||0;s+=k}}),H.value=s}}catch(n){console.error("Error fetching income:",n)}}async function X(){try{const t=await(await fetch("/api/Beauty_Salon/CashManagement/categories")).json();t.success&&(_.value=t.data)}catch(n){console.error("Error fetching categories:",n)}}async function V(){S.value=!0;try{const n="/api/Beauty_Salon/CashManagement/transactions?cash=cashier";console.log("Fetching expenses from:",n);const s=await(await fetch(n)).json();console.log("Fetch expenses response:",s),s.success&&(h.value=s.data.sort((p,k)=>new Date(k.transaction_date)-new Date(p.transaction_date)),console.log("Expenses loaded:",h.value.length,"items"),console.log("First item:",h.value[0]))}catch(n){console.error("Error fetching expenses:",n)}finally{S.value=!1}}async function J(){if(i.amount<=0||i.amount>B.value){c("Jumlah transfer tidak valid","error");return}y.value=!0;try{const t=await(await fetch("/api/Beauty_Salon/CashManagement/transfer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:"cashier",to:"main",amount:i.amount,description:i.description,notes:i.notes})})).json();t.success?(c("âœ… Transfer kas berhasil dilakukan!"),i.amount=0,i.description="Transfer ke Kas Besar",i.notes="",M.value=!1,await V()):c("Gagal: "+(t.message||"Error server"),"error")}catch(n){console.error("Transfer error:",n),c("Terjadi kesalahan transfer","error")}finally{y.value=!1}}async function A(){if(!a.category_id){c("Mohon pilih kategori","error");return}if(!a.description||!a.amount){c("Mohon lengkapi keterangan dan jumlah","error");return}y.value=!0;try{const t=await(await fetch("/api/Beauty_Salon/CashManagement/expense",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cash_source:"cashier",category_id:a.category_id,description:a.description,amount:a.amount,date:a.date,notes:a.notes})})).json();console.log("Submit expense response:",t),t.success?(c("âœ… Pengeluaran berhasil disimpan!"),a.category_id="",f.value="",a.description="",a.amount=0,a.date=new Date().toISOString().split("T")[0],a.notes="",C.value=!1,await V()):c("Error: "+(t.message||"Gagal menyimpan"),"error")}catch(n){console.error("Error saving expense:",n),c("Error menyimpan data","error")}finally{y.value=!1}}function Z(n){const t=h.value.find(s=>s.id===n);if(!t||!G(t.transaction_date)){c("âŒ Hanya bisa menghapus pengeluaran hari ini","error");return}b.id=n,b.show=!0}async function ee(){if(b.id)try{const t=await(await fetch(`/api/Beauty_Salon/CashManagement/deleteTransaction/${b.id}`,{method:"POST"})).json();t.success?(c("ðŸ—‘ï¸ Pengeluaran berhasil dihapus"),b.show=!1,b.id=null,await V()):c("Error: "+(t.message||"Gagal menghapus"),"error")}catch(n){console.error("Error deleting expense:",n),c("Error menghapus data","error")}}function D(n){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n||0)}function te(n){return n?new Date(n).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-"}function Y(){if(j.value="",!l.start||!l.end)return;const n=new Date(l.start),t=new Date(l.end);if(n>t){j.value="Tanggal mulai tidak boleh lebih besar dari tanggal akhir";return}const s=Math.abs(t-n);if(Math.ceil(s/(1e3*60*60*24))>7){j.value="Rentang tanggal maksimal 7 hari";const k=new Date(n);k.setDate(k.getDate()+7),l.end=k.toISOString().split("T")[0]}}function se(){l.start="",l.end="",j.value=""}function G(n){if(!n)return!1;const t=new Date(n),s=new Date;return t.getFullYear()===s.getFullYear()&&t.getMonth()===s.getMonth()&&t.getDate()===s.getDate()}return ne(()=>{W(),X(),V(),document.addEventListener("click",N)}),oe(()=>{document.removeEventListener("click",N)}),(n,t)=>(o(),r("div",re,[e("div",ae,[t[25]||(t[25]=e("div",{class:"absolute top-0 right-0 p-8 opacity-10 transform translate-x-1/2 -translate-y-1/2"},[e("svg",{class:"w-64 h-64",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"})])],-1)),e("div",le,[t[24]||(t[24]=e("div",{class:"flex items-center gap-2 mb-2"},[e("svg",{class:"w-5 h-5 md:w-6 md:h-6 text-indigo-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})]),e("p",{class:"text-indigo-100 font-semibold text-sm md:text-base"},"Saldo Kas Kasir")],-1)),e("h2",ie,d(D(B.value)),1),e("div",de,[e("div",ue,[t[22]||(t[22]=e("span",{class:"text-green-200"},"â†‘ Pemasukan:",-1)),e("span",ce,d(D(H.value)),1)]),e("div",pe,[t[23]||(t[23]=e("span",{class:"text-red-200"},"â†“ Pengeluaran:",-1)),e("span",ge,d(D(q.value)),1)])])])]),e("div",fe,[e("div",xe,[e("div",me,[t[27]||(t[27]=e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("span",{class:"text-sm font-medium text-gray-700"},"Filter Tanggal:")],-1)),e("div",be,[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.start=s),onChange:Y,type:"date",placeholder:"Tanggal Mulai",class:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-200"},null,544),[[m,l.start]]),t[26]||(t[26]=e("span",{class:"text-gray-500 text-center hidden sm:inline"},"â€”",-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.end=s),onChange:Y,type:"date",placeholder:"Tanggal Akhir",class:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-200"},null,544),[[m,l.end]]),l.start||l.end?(o(),r("button",{key:0,onClick:se,class:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm rounded-lg transition font-medium"}," Reset ")):u("",!0)]),j.value?(o(),r("div",ve," âš ï¸ "+d(j.value),1)):u("",!0)])]),e("div",ye,[t[30]||(t[30]=e("h3",{class:"font-bold text-gray-800"},"Riwayat Transaksi Kas",-1)),e("div",he,[e("button",{onClick:t[2]||(t[2]=s=>M.value=!0),class:"flex-1 sm:flex-none bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition shadow-lg flex items-center justify-center gap-2"},[...t[28]||(t[28]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),e("span",null,"Transfer Kas",-1)])]),e("button",{onClick:t[3]||(t[3]=s=>C.value=!0),class:"flex-1 sm:flex-none bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition shadow-lg flex items-center justify-center gap-2"},[...t[29]||(t[29]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",null,"Pengeluaran",-1)])])])]),e("div",ke,[e("table",we,[t[39]||(t[39]=e("thead",null,[e("tr",{class:"bg-gray-50 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b"},[e("th",{class:"px-6 py-4"},"Status & Tanggal"),e("th",{class:"px-6 py-4"},"Keterangan"),e("th",{class:"px-6 py-4 text-right"},"Jumlah"),e("th",{class:"px-6 py-4 text-center"},"Aksi")])],-1)),e("tbody",_e,[L.value.length===0&&!S.value?(o(),r("tr",Ce,[e("td",Me,[e("div",je,[t[31]||(t[31]=e("svg",{class:"w-16 h-16 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[32]||(t[32]=e("p",{class:"font-medium"},"Tidak ada data pengeluaran",-1)),e("p",Be,d(l.start||l.end?"Ubah filter tanggal atau reset filter":"Belum ada pengeluaran yang tercatat"),1)])])])):u("",!0),S.value?(o(),r("tr",De,[...t[33]||(t[33]=[e("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-400"},"Memuat data...",-1)])])):h.value.length===0?(o(),r("tr",Te,[...t[34]||(t[34]=[e("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-400"}," Belum ada data pengeluaran ",-1)])])):u("",!0),(o(!0),r(O,null,U(L.value,s=>(o(),r("tr",{key:s.id,class:"hover:bg-gray-50 transition border-b border-gray-50 last:border-0"},[e("td",Ee,[e("div",Se,[s.transaction_type==="expense"?(o(),r("div",Ke,[...t[35]||(t[35]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})],-1)])])):(o(),r("div",Ve,[...t[36]||(t[36]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})],-1)])])),e("div",null,[e("div",He,d(s.transaction_type==="expense"?"Pengeluaran":"Transfer Keluar"),1),e("div",ze,d(te(s.transaction_date)),1)])])]),e("td",$e,[e("div",Fe,d(s.description),1),s.notes?(o(),r("div",Le,d(s.notes),1)):u("",!0),s.transaction_type==="transfer"?(o(),r("div",Pe," Ke: "+d(s.transfer_to==="main"?"Kas Besar":s.transfer_to),1)):u("",!0)]),e("td",Oe,[e("span",{class:Q(["font-black text-sm",s.transaction_type==="expense"?"text-rose-600":"text-blue-600"])}," - "+d(D(s.amount)),3)]),e("td",Ue,[G(s.transaction_date)?(o(),r("button",{key:0,onClick:p=>Z(s.id),class:"text-gray-400 hover:text-rose-600 hover:bg-rose-50 p-2 rounded-xl transition-all",title:"Hapus"},[...t[37]||(t[37]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Re)):(o(),r("span",Ie,[...t[38]||(t[38]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)])]))])]))),128))])])])]),(o(),P(R,{to:"body"},[C.value?(o(),r("div",{key:0,class:"fixed inset-0 z-[99] bg-black/40 backdrop-blur-sm flex items-center justify-center p-4",onClick:t[12]||(t[12]=E(s=>C.value=!1,["self"]))},[e("div",Ne,[e("div",qe,[t[40]||(t[40]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-10 h-10 rounded-lg bg-red-600 flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})])]),e("h3",{class:"font-bold text-gray-800 text-lg"},"Input Pengeluaran")],-1)),e("button",{onClick:t[4]||(t[4]=s=>C.value=!1),class:"text-gray-400 hover:text-gray-600 transition text-2xl"},"Ã—")]),e("form",{onSubmit:E(A,["prevent"]),class:"p-6 space-y-4 overflow-y-auto flex-1"},[e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kategori Pengeluaran *",-1)),e("div",{class:"relative",ref_key:"categoryDropdownRef",ref:z},[x(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=s=>f.value=s),onFocus:t[6]||(t[6]=s=>K.value=!0),placeholder:"Cari kategori...",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-200 focus:border-red-400 outline-none transition bg-white"},null,544),[[m,f.value]]),a.category_id?(o(),r("div",Je,[...t[41]||(t[41]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])])):u("",!0),K.value?(o(),r("div",Ae,[$.value.length>0?(o(),r("div",Ye,[t[42]||(t[42]=e("div",{class:"px-3 py-2 bg-gradient-to-r from-red-50 to-pink-50 border-b border-red-100 sticky top-0"},[e("div",{class:"text-xs font-bold text-red-700 uppercase tracking-wider flex items-center gap-2"},[e("span",null,"ðŸ’¸"),e("span",null,"Pengeluaran Operasional")])],-1)),(o(!0),r(O,null,U($.value,s=>(o(),r("div",{key:s.id,onClick:p=>I(s),class:"px-4 py-3 hover:bg-red-50 cursor-pointer border-b border-gray-50 last:border-0 transition"},[e("div",Qe,d(s.name),1),e("div",We,d(s.description),1)],8,Ge))),128))])):u("",!0),F.value.length>0?(o(),r("div",Xe,[t[43]||(t[43]=e("div",{class:"px-3 py-2 bg-gradient-to-r from-amber-50 to-yellow-50 border-b border-amber-100 sticky top-0"},[e("div",{class:"text-xs font-bold text-amber-700 uppercase tracking-wider flex items-center gap-2"},[e("span",null,"ðŸ’°"),e("span",null,"Prive & Aset")])],-1)),(o(!0),r(O,null,U(F.value,s=>(o(),r("div",{key:s.id,onClick:p=>I(s),class:"px-4 py-3 hover:bg-amber-50 cursor-pointer border-b border-gray-50 last:border-0 transition"},[e("div",et,d(s.name),1),e("div",tt,d(s.description),1)],8,Ze))),128))])):u("",!0),$.value.length===0&&F.value.length===0?(o(),r("div",st," Kategori tidak ditemukan ")):u("",!0)])):u("",!0)],512)]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Keterangan *",-1)),x(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>a.description=s),type:"text",required:"",placeholder:"Contoh: Beli sabun cuci, transport, dll",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400"},null,512),[[m,a.description]])]),e("div",nt,[e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah (Rp) *",-1)),x(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>a.amount=s),type:"number",required:"",min:"0",step:"1000",placeholder:"0",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400"},null,512),[[m,a.amount,void 0,{number:!0}]])]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal *",-1)),x(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>a.date=s),type:"date",required:"",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400"},null,512),[[m,a.date]])])]),e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catatan (Opsional)",-1)),x(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=s=>a.notes=s),rows:"3",placeholder:"Catatan tambahan...",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400"},null,512),[[m,a.notes]])])],32),e("div",ot,[e("button",{onClick:t[11]||(t[11]=s=>C.value=!1),type:"button",class:"flex-1 bg-white border border-gray-300 text-gray-700 px-4 py-2.5 rounded-lg font-medium hover:bg-gray-50 transition"}," Batal "),e("button",{onClick:A,disabled:y.value,type:"submit",class:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white px-4 py-2.5 rounded-lg font-medium transition shadow-lg"},[y.value?(o(),r("span",at,"Menyimpan...")):(o(),r("span",lt,"Simpan"))],8,rt)])])])):u("",!0)])),(o(),P(R,{to:"body"},[b.show?(o(),r("div",{key:0,class:"fixed inset-0 z-[99] bg-black/40 backdrop-blur-sm flex items-center justify-center p-4",onClick:t[14]||(t[14]=E(s=>b.show=!1,["self"]))},[e("div",it,[t[49]||(t[49]=e("div",{class:"p-6"},[e("div",{class:"flex items-center gap-4 mb-4"},[e("div",{class:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),e("div",{class:"flex-1"},[e("h3",{class:"text-lg font-bold text-gray-800"},"Konfirmasi Hapus"),e("p",{class:"text-sm text-gray-600 mt-1"},"Yakin ingin menghapus pengeluaran ini?")])]),e("p",{class:"text-sm text-gray-500 bg-gray-50 p-3 rounded-lg border border-gray-200"}," Data yang sudah dihapus tidak dapat dikembalikan. ")],-1)),e("div",dt,[e("button",{onClick:t[13]||(t[13]=s=>b.show=!1),type:"button",class:"flex-1 bg-white border border-gray-300 text-gray-700 px-4 py-2.5 rounded-lg font-medium hover:bg-gray-100 transition"}," Batal "),e("button",{onClick:ee,type:"button",class:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2.5 rounded-lg font-medium transition shadow-lg"}," Ya, Hapus ")])])])):u("",!0)])),(o(),P(R,{to:"body"},[M.value?(o(),r("div",{key:0,class:"fixed inset-0 z-[99] bg-black/40 backdrop-blur-sm flex items-center justify-center p-4",onClick:t[20]||(t[20]=E(s=>M.value=!1,["self"]))},[e("div",ut,[e("div",ct,[t[50]||(t[50]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-12 h-12 rounded-2xl bg-blue-600 flex items-center justify-center shadow-lg shadow-blue-200"},[e("svg",{class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})])]),e("div",null,[e("h3",{class:"font-black text-gray-800 text-xl tracking-tight leading-none mb-1"},"Transfer Kas"),e("p",{class:"text-xs font-bold text-blue-600 uppercase tracking-widest leading-none"},"Ke Kas Besar")])],-1)),e("button",{onClick:t[15]||(t[15]=s=>M.value=!1),class:"w-10 h-10 rounded-full hover:bg-white flex items-center justify-center text-gray-400 hover:text-gray-600 transition-all"},"Ã—")]),e("form",{onSubmit:E(J,["prevent"]),class:"p-8 space-y-6"},[e("div",pt,[e("div",gt,[t[51]||(t[51]=e("p",{class:"text-[10px] font-black text-blue-500 uppercase tracking-widest mb-1"},"Dari Kasir",-1)),e("p",ft,d(D(B.value)),1)]),t[52]||(t[52]=e("div",{class:"text-blue-300"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M14 5l7 7m0 0l-7 7m7-7H3"})])],-1)),t[53]||(t[53]=e("div",{class:"flex-1 text-right"},[e("p",{class:"text-[10px] font-black text-blue-500 uppercase tracking-widest mb-1"},"Ke Kas Besar"),e("p",{class:"font-black text-blue-900 leading-none"},"Main Cash")],-1))]),e("div",xt,[e("div",null,[t[54]||(t[54]=e("label",{class:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1"},"Keterangan Transfer *",-1)),x(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>i.description=s),type:"text",required:"",placeholder:"Contoh: Deposit Harian, Setoran Kasir, dll",class:"w-full px-4 py-4 border border-gray-100 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all bg-gray-50/50 font-bold"},null,512),[[m,i.description]])]),e("div",null,[t[55]||(t[55]=e("label",{class:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1"},"Jumlah Transfer (Rp) *",-1)),x(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>i.amount=s),type:"number",required:"",max:B.value,min:"0",step:"1000",placeholder:"0",class:"w-full px-4 py-4 border border-gray-100 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all bg-gray-50/50 font-black text-xl"},null,8,mt),[[m,i.amount,void 0,{number:!0}]]),i.amount>B.value?(o(),r("p",bt," âš ï¸ Melebihi saldo kasir saat ini! ")):u("",!0)])]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1"},"Catatan Tambahan (Opsional)",-1)),x(e("textarea",{"onUpdate:modelValue":t[18]||(t[18]=s=>i.notes=s),rows:"2",placeholder:"Misal: No. Ref Setoran atau Nama Petugas...",class:"w-full px-4 py-3 border border-gray-100 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all bg-gray-50/50 font-medium text-sm"},null,512),[[m,i.notes]])])],32),e("div",vt,[e("button",{onClick:t[19]||(t[19]=s=>M.value=!1),type:"button",class:"flex-1 bg-white border border-gray-200 text-gray-500 py-4 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-gray-50 transition-all"}," Batal "),e("button",{onClick:J,disabled:y.value||i.amount<=0||i.amount>B.value,type:"submit",class:"flex-[1.5] bg-blue-600 hover:bg-blue-700 disabled:bg-gray-200 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-[0.2em] transition-all shadow-xl shadow-blue-200"},[y.value?(o(),r("span",ht,"Mengirim...")):(o(),r("span",kt,"Konfirmasi Transfer"))],8,yt)])])])):u("",!0)])),v.show?(o(),r("div",wt,[e("div",{class:Q(["bg-white rounded-lg shadow-2xl border-l-4 p-4",v.type==="success"?"border-green-500":"border-red-500"])},[e("div",_t,[e("div",Ct,[v.type==="success"?(o(),r("svg",Mt,[...t[57]||(t[57]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):(o(),r("svg",jt,[...t[58]||(t[58]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))]),e("div",Bt,[e("p",Dt,d(v.message),1)]),e("button",{onClick:t[21]||(t[21]=s=>v.show=!1),class:"flex-shrink-0 text-gray-400 hover:text-gray-600"},[...t[59]||(t[59]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])],2)])):u("",!0)]))}};export{St as default};
