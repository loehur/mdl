import{r as d,j as N,k as P,l as Ce,x as Me,c as a,a as e,m as te,d as p,t as l,f as O,e as f,y as T,F as se,p as ne,q as oe,w as me,v as _,n as H,o}from"./index-ry9e-rOz.js";const Be={class:"max-w-7xl mx-auto space-y-6"},Te={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},je={class:"bg-gradient-to-br from-indigo-500 to-blue-600 rounded-2xl p-4 md:p-6 text-white shadow-xl relative overflow-hidden"},Ee={class:"relative z-10"},Ke={class:"text-2xl md:text-3xl lg:text-4xl font-bold tracking-tight mb-3 break-words"},Se={class:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3 text-[10px] md:text-xs"},Ie={class:"bg-white/20 px-2 py-1 rounded break-words"},Ve={class:"bg-white/20 px-2 py-1 rounded break-words"},Le={class:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl p-4 md:p-6 text-white shadow-xl relative overflow-hidden"},De={class:"relative z-10"},ze={class:"text-2xl md:text-3xl lg:text-4xl font-bold tracking-tight mb-3 break-words"},Ne={class:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3 text-[10px] md:text-xs"},Pe={class:"bg-white/20 px-2 py-1 rounded break-words"},Oe={class:"bg-white/20 px-2 py-1 rounded break-words"},He={class:"flex flex-wrap gap-3 mb-6"},Ue={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},$e={class:"border-b border-gray-100 px-6 py-4 flex items-center justify-between"},qe={class:"flex items-center gap-2"},Ae={class:"overflow-x-auto"},Fe={class:"w-full text-left text-sm"},Re={class:"divide-y divide-gray-50"},Je={key:0,class:"animate-pulse"},Ge={key:1},Ye={class:"px-6 py-3 whitespace-nowrap text-gray-600 font-mono text-xs"},Qe={class:"px-6 py-3"},We={class:"px-6 py-3"},Xe={class:"px-6 py-3"},Ze={class:"font-medium text-gray-800"},et={key:0,class:"text-xs text-gray-500 mt-0.5"},tt={class:"px-6 py-3 text-gray-600 text-xs"},st={class:"px-6 py-3 text-center"},nt=["onClick"],ot={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},at={class:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all"},rt={class:"flex items-start gap-4"},lt={class:"flex-1"},it={class:"flex gap-3 justify-end"},dt={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto"},ut={class:"bg-white rounded-2xl shadow-2xl max-w-md w-full my-8"},ct={class:"border-b border-gray-100 px-6 py-4 flex items-center justify-between"},mt={class:"grid grid-cols-2 gap-4"},pt={class:"flex gap-3 pt-4"},ft=["disabled"],gt={key:0},xt={key:1},vt={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto"},yt={class:"bg-white rounded-2xl shadow-2xl max-w-md w-full my-8"},bt={class:"border-b border-gray-100 px-6 py-4 flex items-center justify-between"},ht={key:0,class:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-2xl max-h-60 overflow-y-auto"},wt={key:0},kt=["onClick"],_t={class:"font-semibold text-gray-800"},Ct={class:"text-xs text-gray-500 mt-0.5"},Mt={key:1},Bt=["onClick"],Tt={class:"font-semibold text-gray-800"},jt={class:"text-xs text-gray-500 mt-0.5"},Et={key:2,class:"px-4 py-6 text-gray-400 text-center text-sm"},Kt={class:"flex gap-3 pt-4"},St=["disabled"],It={key:0},Vt={key:1},Lt={key:0,class:"fixed top-4 right-4 z-50 animate-fade-in-down"},Dt={class:"flex items-start gap-3"},zt={class:"flex-shrink-0"},Nt={key:0,class:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Pt={key:1,class:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ot={class:"flex-1"},Ht={class:"font-medium text-gray-800"},Ft={__name:"MainCash",setup(Ut){const j=d(!1),E=d(!1),U=d(!0),ae=d(0),$=d(0),q=d(0),A=d(0),K=d(0),S=d(0),w=d([]),F=d([]),I=d(""),V=d(""),g=d(""),L=d(!1),R=d(null),x=N({show:!1,message:"",type:"success"}),v=N({show:!1,id:null}),C=d(!1),M=d(!1);function m(n,t="success"){x.message=n,x.type=t,x.show=!0,setTimeout(()=>x.show=!1,3e3)}P(()=>w.value.filter(n=>n.is_expense===1)),P(()=>w.value.filter(n=>n.is_expense===0));const J=P(()=>{const n=w.value.filter(s=>s.is_expense===1);if(!g.value)return n;const t=g.value.toLowerCase();return n.filter(s=>s.name.toLowerCase().includes(t)||s.description&&s.description.toLowerCase().includes(t))}),G=P(()=>{const n=w.value.filter(s=>s.is_expense===0);if(!g.value)return n;const t=g.value.toLowerCase();return n.filter(s=>s.name.toLowerCase().includes(t)||s.description&&s.description.toLowerCase().includes(t))}),u=N({from:"cashier",to:"main",amount:0,description:""}),r=N({cash_source:"main",category_id:"",amount:0,description:"",notes:""});function re(n){r.category_id=n.id,g.value=n.name,L.value=!1}const le=n=>{if(R.value&&!R.value.contains(n.target)&&(L.value=!1,r.category_id)){const t=w.value.find(s=>s.id===r.category_id);t&&g.value!==t.name&&(g.value=t.name)}};async function pe(){try{const t=await(await fetch("/api/Beauty_Salon/CashManagement/categories")).json();t.success&&(w.value=t.data)}catch(n){console.error("Error fetching categories:",n)}}async function k(){U.value=!0;try{const n=[],s=await(await fetch("/api/Beauty_Salon/CashManagement/transactions?type=transfer")).json();s.success&&n.push(...s.data);const Q=await(await fetch("/api/Beauty_Salon/CashManagement/transactions?cash=main&type=expense")).json();Q.success&&n.push(...Q.data);const B=await(await fetch("/api/Beauty_Salon/CashManagement/transactions?cash=main&type=income")).json();B.success&&n.push(...B.data);let h=n;I.value&&(h=h.filter(c=>c.transaction_type===I.value)),V.value&&(h=h.filter(c=>V.value==="main"?c.cash_source==="main"||c.transfer_from==="main"||c.transfer_to==="main":c.transfer_from==="cashier"||c.transfer_to==="cashier")),h.sort((c,z)=>new Date(z.transaction_date)-new Date(c.transaction_date)),F.value=h}catch(n){console.error("Error fetching transactions:",n)}finally{U.value=!1}}async function fe(){if(u.from===u.to){m("Tidak bisa transfer ke kas yang sama!","error");return}j.value=!0;try{const t=await(await fetch("/api/Beauty_Salon/CashManagement/transfer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:u.from,to:u.to,amount:u.amount,description:u.description})})).json();t.success?(m("âœ… Transfer berhasil!"),u.amount=0,u.description="",C.value=!1,D(),k()):m("Error: "+(t.message||"Gagal transfer"),"error")}catch(n){console.error("Error transfer:",n),m("Error transfer kas","error")}finally{j.value=!1}}async function ge(){if(!r.category_id){m("Pilih kategori terlebih dahulu","error");return}E.value=!0;try{const t=await(await fetch("/api/Beauty_Salon/CashManagement/expense",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cash_source:r.cash_source,category_id:r.category_id,amount:r.amount,description:r.description,notes:r.notes})})).json();t.success?(m("âœ… Pengeluaran berhasil disimpan!"),r.category_id="",g.value="",r.amount=0,r.description="",r.notes="",M.value=!1,D(),k()):m("Error: "+(t.message||"Gagal menyimpan"),"error")}catch(n){console.error("Error expense:",n),m("Error menyimpan pengeluaran","error")}finally{E.value=!1}}function xe(n){v.id=n,v.show=!0}async function ve(){if(v.id)try{const t=await(await fetch(`/api/Beauty_Salon/CashManagement/deleteTransaction/${v.id}`,{method:"POST"})).json();t.success?(m("ðŸ—‘ï¸ Transaksi berhasil dihapus"),v.show=!1,v.id=null,D(),k()):m("Error: "+(t.message||"Gagal menghapus"),"error")}catch(n){console.error("Error deleting:",n),m("Error menghapus transaksi","error")}}function y(n){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n||0)}function ye(n){return n?new Date(n).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-"}function be(n,t){return(n==="expense"?"- ":n==="income"?"+ ":"")+y(t)}function he(n){return n==="income"?"bg-green-100 text-green-800":n==="expense"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}function we(n){return n==="income"?"Pemasukan":n==="expense"?"Pengeluaran":"Transfer"}function ke(n){return n==="cashier"?"bg-indigo-100 text-indigo-800":"bg-amber-100 text-amber-800"}function Y(n){return n==="cashier"?"Kas Kasir":"Kas Besar"}function _e(n){return n==="income"?"text-green-600":n==="expense"?"text-red-600":"text-blue-600"}async function D(){try{const t=await(await fetch("/api/Beauty_Salon/Orders")).json();let s=0,b=0;t.success&&t.data.forEach(i=>{i.status==="completed"&&(s+=Number(i.pay_cash)||0,b+=Number(i.pay_non_cash)||0)});const W=await(await fetch("/api/Beauty_Salon/CashManagement/transactions?cash=cashier&type=expense")).json();let B=0;W.success&&W.data.forEach(i=>{B+=Number(i.amount)||0});const c=await(await fetch("/api/Beauty_Salon/CashManagement/transactions?type=transfer")).json();let z=0,ie=0,X=0,Z=0;c.success&&c.data.forEach(i=>{i.transfer_from==="cashier"&&(z+=Number(i.amount)||0),i.transfer_to==="cashier"&&(ie+=Number(i.amount)||0),i.transfer_from==="main"&&(X+=Number(i.amount)||0),i.transfer_to==="main"&&(Z+=Number(i.amount)||0)}),$.value=s+ie,q.value=B+z,ae.value=$.value-q.value;const de=await(await fetch("/api/Beauty_Salon/CashManagement/transactions?cash=main&type=expense")).json();let ue=0;de.success&&de.data.forEach(i=>{ue+=Number(i.amount)||0});const ce=await(await fetch("/api/Beauty_Salon/CashManagement/transactions?cash=main&type=income")).json();let ee=0;ce.success&&ce.data.forEach(i=>{ee+=Number(i.amount)||0}),K.value=b+ee+Z,S.value=ue+X,A.value=K.value-S.value,console.log("=== DEBUG KAS BESAR ==="),console.log("Income dari orders non-cash:",b),console.log("Income manual:",ee),console.log("Transfer IN:",Z),console.log("Total Income:",K.value),console.log("Expense:",S.value),console.log("Transfer OUT:",X),console.log("Balance:",A.value)}catch(n){console.error("Error fetching balances:",n)}}return Ce(()=>{D(),pe(),k(),document.addEventListener("click",le)}),Me(()=>{document.removeEventListener("click",le)}),(n,t)=>(o(),a("div",Be,[e("div",Te,[e("div",je,[t[21]||(t[21]=e("div",{class:"absolute top-0 right-0 p-8 opacity-10 transform translate-x-1/2 -translate-y-1/2"},[e("svg",{class:"w-48 h-48",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),e("div",Ee,[t[20]||(t[20]=e("div",{class:"flex items-center gap-2 mb-2"},[e("svg",{class:"w-4 h-4 md:w-5 md:h-5 text-indigo-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})]),e("p",{class:"text-indigo-100 font-semibold text-xs md:text-sm"},"Kas Kasir")],-1)),e("h2",Ke,l(y(ae.value)),1),e("div",Se,[e("span",Ie,"Pemasukan: "+l(y($.value)),1),e("span",Ve,"Pengeluaran: "+l(y(q.value)),1)])])]),e("div",Le,[t[23]||(t[23]=e("div",{class:"absolute top-0 right-0 p-8 opacity-10 transform translate-x-1/2 -translate-y-1/2"},[e("svg",{class:"w-48 h-48",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])],-1)),e("div",De,[t[22]||(t[22]=e("div",{class:"flex items-center gap-2 mb-2"},[e("svg",{class:"w-4 h-4 md:w-5 md:h-5 text-amber-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})]),e("p",{class:"text-amber-100 font-semibold text-xs md:text-sm"},"Kas Besar (Main)")],-1)),e("h2",ze,l(y(A.value)),1),e("div",Ne,[e("span",Pe,"Pemasukan: "+l(y(K.value)),1),e("span",Oe,"Pengeluaran: "+l(y(S.value)),1)])])])]),e("div",He,[e("button",{onClick:t[0]||(t[0]=s=>C.value=!0),class:"flex-1 sm:flex-none bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-medium transition shadow-lg flex items-center justify-center gap-2"},[...t[24]||(t[24]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),O(" Transfer Kas ",-1)])]),e("button",{onClick:t[1]||(t[1]=s=>M.value=!0),class:"flex-1 sm:flex-none bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl font-medium transition shadow-lg flex items-center justify-center gap-2"},[...t[25]||(t[25]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1),O(" Pengeluaran ",-1)])])]),e("div",Ue,[e("div",$e,[t[28]||(t[28]=e("h3",{class:"font-bold text-gray-800"},"Riwayat Transaksi",-1)),e("div",qe,[f(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>I.value=s),onChange:k,class:"border border-gray-300 rounded-lg px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-gray-200"},[...t[26]||(t[26]=[e("option",{value:""},"Semua Tipe",-1),e("option",{value:"income"},"Pemasukan",-1),e("option",{value:"expense"},"Pengeluaran",-1),e("option",{value:"transfer"},"Transfer",-1)])],544),[[T,I.value]]),f(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>V.value=s),onChange:k,class:"border border-gray-300 rounded-lg px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-gray-200"},[...t[27]||(t[27]=[e("option",{value:""},"Semua Kas",-1),e("option",{value:"cashier"},"Kas Kasir",-1),e("option",{value:"main"},"Kas Besar",-1)])],544),[[T,V.value]])])]),e("div",Ae,[e("table",Fe,[t[32]||(t[32]=e("thead",{class:"bg-gray-50 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b"},[e("tr",null,[e("th",{class:"px-6 py-3"},"Tanggal"),e("th",{class:"px-6 py-3"},"Tipe"),e("th",{class:"px-6 py-3"},"Kas"),e("th",{class:"px-6 py-3"},"Keterangan"),e("th",{class:"px-6 py-3"},"Kategori"),e("th",{class:"px-6 py-3 text-right"},"Jumlah"),e("th",{class:"px-6 py-3 text-center"},"Aksi")])],-1)),e("tbody",Re,[U.value?(o(),a("tr",Je,[...t[29]||(t[29]=[e("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-400"},"Memuat data...",-1)])])):F.value.length===0?(o(),a("tr",Ge,[...t[30]||(t[30]=[e("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-400"},"Belum ada transaksi",-1)])])):p("",!0),(o(!0),a(se,null,ne(F.value,s=>(o(),a("tr",{key:s.id,class:"hover:bg-gray-50 transition"},[e("td",Ye,l(ye(s.transaction_date)),1),e("td",Qe,[e("span",{class:H(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",he(s.transaction_type)])},l(we(s.transaction_type)),3)]),e("td",We,[e("span",{class:H(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",ke(s.cash_source)])},l(Y(s.cash_source)),3)]),e("td",Xe,[e("div",Ze,l(s.description),1),s.transaction_type==="transfer"?(o(),a("div",et,l(Y(s.transfer_from))+" â†’ "+l(Y(s.transfer_to)),1)):p("",!0)]),e("td",tt,l(s.category_name||"-"),1),e("td",{class:H(["px-6 py-3 text-right font-bold",_e(s.transaction_type)])},l(be(s.transaction_type,s.amount)),3),e("td",st,[s.reference_type!=="order"?(o(),a("button",{key:0,onClick:b=>xe(s.id),class:"text-red-600 hover:text-red-800 hover:bg-red-50 p-2 rounded-lg transition",title:"Hapus"},[...t[31]||(t[31]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,nt)):p("",!0)])]))),128))])])])]),(o(),te(oe,{to:"body"},[v.show?(o(),a("div",ot,[e("div",at,[e("div",rt,[t[36]||(t[36]=e("div",{class:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),e("div",lt,[t[34]||(t[34]=e("h3",{class:"text-lg font-bold text-gray-900 mb-2"},"Konfirmasi Hapus",-1)),t[35]||(t[35]=e("p",{class:"text-gray-600 text-sm mb-4"},[O(" Apakah Anda yakin ingin menghapus transaksi ini? "),e("span",{class:"font-semibold text-red-600"},"Data yang dihapus tidak dapat dikembalikan.")],-1)),e("div",it,[e("button",{onClick:t[4]||(t[4]=s=>v.show=!1),class:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition"}," Batal "),e("button",{onClick:ve,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition flex items-center gap-2"},[...t[33]||(t[33]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),O(" Ya, Hapus ",-1)])])])])])])])):p("",!0)])),(o(),te(oe,{to:"body"},[C.value?(o(),a("div",dt,[e("div",ut,[e("div",ct,[t[38]||(t[38]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})])]),e("h3",{class:"font-bold text-gray-900"},"Transfer Antar Kas")],-1)),e("button",{onClick:t[5]||(t[5]=s=>C.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[37]||(t[37]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:me(fe,["prevent"]),class:"p-6 space-y-4"},[e("div",mt,[e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Dari *",-1)),f(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>u.from=s),required:"",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-200"},[...t[39]||(t[39]=[e("option",{value:"cashier"},"Kas Kasir",-1),e("option",{value:"main"},"Kas Besar",-1)])],512),[[T,u.from]])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ke *",-1)),f(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>u.to=s),required:"",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-200"},[...t[41]||(t[41]=[e("option",{value:"cashier"},"Kas Kasir",-1),e("option",{value:"main"},"Kas Besar",-1)])],512),[[T,u.to]])])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah (Rp) *",-1)),f(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>u.amount=s),type:"number",required:"",min:"0",step:"1000",placeholder:"0",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-200"},null,512),[[_,u.amount,void 0,{number:!0}]])]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Keterangan *",-1)),f(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>u.description=s),type:"text",required:"",placeholder:"Contoh: Transfer untuk modal",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-200"},null,512),[[_,u.description]])]),e("div",pt,[e("button",{type:"button",onClick:t[10]||(t[10]=s=>C.value=!1),class:"flex-1 px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition"}," Batal "),e("button",{type:"submit",disabled:j.value,class:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition"},[j.value?(o(),a("span",gt,"Transfer...")):(o(),a("span",xt,"Transfer"))],8,ft)])],32)])])):p("",!0)])),(o(),te(oe,{to:"body"},[M.value?(o(),a("div",vt,[e("div",yt,[e("div",bt,[t[46]||(t[46]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})])]),e("h3",{class:"font-bold text-gray-900"},"Input Pengeluaran")],-1)),e("button",{onClick:t[11]||(t[11]=s=>M.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[45]||(t[45]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:me(ge,["prevent"]),class:"p-6 space-y-4"},[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sumber Kas *",-1)),f(e("select",{"onUpdate:modelValue":t[12]||(t[12]=s=>r.cash_source=s),required:"",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-red-200"},[...t[47]||(t[47]=[e("option",{value:"cashier"},"Kas Kasir",-1),e("option",{value:"main"},"Kas Besar",-1)])],512),[[T,r.cash_source]])]),e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori *",-1)),e("div",{class:"relative",ref_key:"categoryDropdownRef",ref:R},[f(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>g.value=s),onFocus:t[14]||(t[14]=s=>L.value=!0),type:"text",required:"",placeholder:"ðŸ” Cari atau pilih kategori...",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400"},null,544),[[_,g.value]]),L.value?(o(),a("div",ht,[J.value.length>0?(o(),a("div",wt,[t[49]||(t[49]=e("div",{class:"px-3 py-2 bg-gradient-to-r from-red-50 to-pink-50 border-b border-red-100 sticky top-0"},[e("div",{class:"text-xs font-bold text-red-700 uppercase tracking-wider flex items-center gap-2"},[e("span",null,"ðŸ’¸"),e("span",null,"Pengeluaran Operasional")])],-1)),(o(!0),a(se,null,ne(J.value,s=>(o(),a("div",{key:s.id,onClick:b=>re(s),class:"px-4 py-3 hover:bg-red-50 cursor-pointer border-b border-gray-50 last:border-0 transition"},[e("div",_t,l(s.name),1),e("div",Ct,l(s.description),1)],8,kt))),128))])):p("",!0),G.value.length>0?(o(),a("div",Mt,[t[50]||(t[50]=e("div",{class:"px-3 py-2 bg-gradient-to-r from-amber-50 to-yellow-50 border-b border-amber-100 sticky top-0"},[e("div",{class:"text-xs font-bold text-amber-700 uppercase tracking-wider flex items-center gap-2"},[e("span",null,"ðŸ’°"),e("span",null,"Prive & Aset")])],-1)),(o(!0),a(se,null,ne(G.value,s=>(o(),a("div",{key:s.id,onClick:b=>re(s),class:"px-4 py-3 hover:bg-amber-50 cursor-pointer border-b border-gray-50 last:border-0 transition"},[e("div",Tt,l(s.name),1),e("div",jt,l(s.description),1)],8,Bt))),128))])):p("",!0),J.value.length===0&&G.value.length===0?(o(),a("div",Et," Kategori tidak ditemukan ")):p("",!0)])):p("",!0)],512)]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah (Rp) *",-1)),f(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>r.amount=s),type:"number",required:"",min:"0",step:"1000",placeholder:"0",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-red-200"},null,512),[[_,r.amount,void 0,{number:!0}]])]),e("div",null,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Keterangan *",-1)),f(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>r.description=s),type:"text",required:"",placeholder:"Contoh: Bayar listrik, beli bahan, dll",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-red-200"},null,512),[[_,r.description]])]),e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catatan",-1)),f(e("textarea",{"onUpdate:modelValue":t[17]||(t[17]=s=>r.notes=s),rows:"2",placeholder:"Catatan tambahan (opsional)",class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-red-200"},null,512),[[_,r.notes]])]),e("div",Kt,[e("button",{type:"button",onClick:t[18]||(t[18]=s=>M.value=!1),class:"flex-1 px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition"}," Batal "),e("button",{type:"submit",disabled:E.value,class:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition"},[E.value?(o(),a("span",It,"Menyimpan...")):(o(),a("span",Vt,"Simpan"))],8,St)])],32)])])):p("",!0)])),x.show?(o(),a("div",Lt,[e("div",{class:H(["bg-white rounded-lg shadow-2xl border-l-4 p-4",x.type==="success"?"border-green-500":"border-red-500"])},[e("div",Dt,[e("div",zt,[x.type==="success"?(o(),a("svg",Nt,[...t[55]||(t[55]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):(o(),a("svg",Pt,[...t[56]||(t[56]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))]),e("div",Ot,[e("p",Ht,l(x.message),1)]),e("button",{onClick:t[19]||(t[19]=s=>x.show=!1),class:"flex-shrink-0 text-gray-400 hover:text-gray-600"},[...t[57]||(t[57]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])],2)])):p("",!0)]))}};export{Ft as default};
