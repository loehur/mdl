import{r as f,j as y,l as H,c as n,a as e,m as w,F as g,p as x,d as k,w as V,e as b,v as M,y as S,t as l,q as C,n as T,o,f as _}from"./index-DyZsXIkH.js";const L={class:"space-y-6"},A={class:"flex items-center justify-between"},N={class:"hidden md:block bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},$={class:"overflow-x-auto"},q={class:"w-full text-left text-sm"},E={class:"divide-y divide-gray-50"},P={class:"px-6 py-4"},D={class:"flex items-center gap-3"},G={class:"w-10 h-10 rounded-full bg-gradient-to-br from-fuchsia-400 to-pink-500 flex items-center justify-center text-white font-bold shadow-sm"},I={class:"font-medium text-gray-800"},O={class:"px-6 py-4 text-gray-600 font-mono text-sm"},F={class:"px-6 py-4"},R={class:"px-3 py-1.5 rounded-full text-xs font-semibold capitalize inline-flex items-center gap-1.5 bg-blue-100 text-blue-700"},J={class:"px-6 py-4 text-right"},K=["onClick"],Y={key:2},Q={class:"md:hidden space-y-3"},W={class:"bg-gradient-to-r from-fuchsia-500 to-pink-500 px-4 py-3 flex items-center gap-3"},X={class:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-white font-bold text-lg shadow-lg"},Z={class:"flex-1 min-w-0"},ee={class:"font-semibold text-white truncate"},te={class:"inline-block px-2 py-0.5 rounded-full text-xs font-medium bg-white/20 text-white capitalize mt-1"},se={class:"p-4 space-y-3"},oe={class:"flex items-center gap-3 text-sm"},re={class:"flex-1 min-w-0"},ne={class:"font-medium text-gray-800 font-mono"},ae=["onClick"],le={key:2,class:"bg-white rounded-xl p-8 text-center shadow-sm border border-gray-100"},ie={key:0,class:"fixed inset-0 z-[99999] flex items-center justify-center p-4"},de={class:"relative bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden"},ue={class:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50"},ce={class:"pt-2 flex gap-3"},pe=["disabled"],me={class:"mr-3"},he={key:0,class:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},fe={key:1,class:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ge={class:"font-bold text-sm"},xe={class:"text-sm opacity-90"},be={key:0,class:"fixed inset-0 z-[100001] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"},ve={class:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all"},ye={class:"p-6"},we={class:"text-gray-800 font-semibold text-center"},ke={class:"px-6 pb-6 flex gap-3"},_e={__name:"Users",setup(Me){const u=f([]),m=f(!0),c=f(!1),h=f(!1),a=y({name:"",phone_number:"",role:"cashier",password:""}),i=y({show:!1,message:"",type:"success"}),d=y({show:!1,userId:null,userName:""});function p(r,t="success"){i.message=r,i.type=t,i.show=!0,setTimeout(()=>{i.show=!1},3e3)}async function v(){m.value=!0;try{const t=await(await fetch("/api/Beauty_Salon/Users")).json();t.success&&(u.value=t.data)}catch(r){console.error(r)}finally{m.value=!1}}async function B(){h.value=!0;try{const r=await fetch("/api/Beauty_Salon/Users/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),t=await r.json();r.ok&&t.success?(c.value=!1,a.name="",a.phone_number="",a.role="cashier",a.password="",p("User berhasil dibuat","success"),v()):p(t.message||"Gagal membuat user","error")}catch{p("Terjadi kesalahan jaringan","error")}finally{h.value=!1}}async function j(r){const t=u.value.find(s=>s.id===r);d.userId=r,d.userName=t?t.name:"User",d.show=!0}async function z(){const r=d.userId;d.show=!1;try{const s=await(await fetch(`/api/Beauty_Salon/Users/delete/${r}`,{method:"POST"})).json();s.success?(p("User berhasil dihapus","success"),v()):p(s.message||"Gagal menghapus","error")}catch{p("Gagal menghapus user","error")}}return H(()=>{v()}),(r,t)=>(o(),n("div",L,[e("div",A,[t[11]||(t[11]=e("h2",{class:"text-2xl font-bold text-gray-800"},"Manajemen Pengguna",-1)),e("button",{onClick:t[0]||(t[0]=s=>c.value=!0),class:"bg-fuchsia-600 hover:bg-fuchsia-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition shadow-sm"},[...t[10]||(t[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",null,"Tambah User",-1)])])]),e("div",N,[e("div",$,[e("table",q,[t[16]||(t[16]=e("thead",{class:"bg-gradient-to-r from-fuchsia-50 to-pink-50 text-gray-700 font-semibold border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-6 py-4"},[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-fuchsia-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),e("span",null,"Nama")])]),e("th",{class:"px-6 py-4"},[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-fuchsia-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),e("span",null,"Email")])]),e("th",{class:"px-6 py-4"},[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-fuchsia-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),e("span",null,"Role")])]),e("th",{class:"px-6 py-4 text-right"},"Aksi")])],-1)),e("tbody",E,[m.value?(o(),n(g,{key:0},x(3,s=>e("tr",{key:s,class:"animate-pulse"},[...t[12]||(t[12]=[e("td",{class:"px-6 py-4"},[e("div",{class:"h-4 bg-gray-200 rounded w-32"})],-1),e("td",{class:"px-6 py-4"},[e("div",{class:"h-4 bg-gray-200 rounded w-24"})],-1),e("td",{class:"px-6 py-4"},[e("div",{class:"h-4 bg-gray-200 rounded w-16"})],-1),e("td",{class:"px-6 py-4"},null,-1)])])),64)):u.value.length?(o(!0),n(g,{key:1},x(u.value,s=>(o(),n("tr",{key:s.id,class:"hover:bg-fuchsia-50/30 transition group"},[e("td",P,[e("div",D,[e("div",G,l(s.name.charAt(0).toUpperCase()),1),e("span",I,l(s.name),1)])]),e("td",O,l(s.phone_number),1),e("td",F,[e("span",R,[t[13]||(t[13]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),_(" "+l(s.role),1)])]),e("td",J,[e("button",{onClick:U=>j(s.id),class:"text-red-500 hover:text-red-700 text-sm font-medium inline-flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"},[...t[14]||(t[14]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),_(" Hapus ",-1)])],8,K)])]))),128)):(o(),n("tr",Y,[...t[15]||(t[15]=[e("td",{colspan:"4",class:"px-6 py-12 text-center"},[e("div",{class:"flex flex-col items-center gap-3 text-gray-400"},[e("svg",{class:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),e("p",{class:"text-sm font-medium"},"Belum ada user kasir")])],-1)])]))])])])]),e("div",Q,[m.value?(o(),n(g,{key:0},x(3,s=>e("div",{key:s,class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 animate-pulse"},[...t[17]||(t[17]=[e("div",{class:"h-4 bg-gray-200 rounded w-3/4 mb-3"},null,-1),e("div",{class:"h-3 bg-gray-200 rounded w-1/2"},null,-1)])])),64)):u.value.length?(o(!0),n(g,{key:1},x(u.value,s=>(o(),n("div",{key:s.id,class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},[e("div",W,[e("div",X,l(s.name.charAt(0).toUpperCase()),1),e("div",Z,[e("h3",ee,l(s.name),1),e("span",te,l(s.role),1)])]),e("div",se,[e("div",oe,[t[19]||(t[19]=e("div",{class:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),e("div",re,[t[18]||(t[18]=e("p",{class:"text-xs text-gray-500 mb-0.5"},"Email",-1)),e("p",ne,l(s.phone_number),1)])]),e("button",{onClick:U=>j(s.id),class:"w-full py-2.5 rounded-lg border border-red-200 text-red-600 hover:bg-red-50 font-medium text-sm transition flex items-center justify-center gap-2"},[...t[20]||(t[20]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),_(" Hapus User ",-1)])],8,ae)])]))),128)):(o(),n("div",le,[...t[21]||(t[21]=[e("svg",{class:"w-16 h-16 mx-auto text-gray-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),e("p",{class:"text-gray-500"},"Belum ada user kasir",-1)])]))]),(o(),w(C,{to:"body"},[c.value?(o(),n("div",ie,[e("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t[1]||(t[1]=s=>c.value=!1)}),e("div",de,[e("div",ue,[t[23]||(t[23]=e("h3",{class:"font-bold text-gray-800"},"Tambah User Baru",-1)),e("button",{onClick:t[2]||(t[2]=s=>c.value=!1),class:"text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded-lg p-1 transition"},[...t[22]||(t[22]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:V(B,["prevent"]),class:"p-6 grid gap-4"},[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Lengkap",-1)),b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>a.name=s),type:"text",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-fuchsia-200 focus:border-fuchsia-400 outline-none transition",required:"",placeholder:"Contoh: Siti Aminah"},null,512),[[M,a.name]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>a.phone_number=s),type:"email",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-fuchsia-200 focus:border-fuchsia-400 outline-none transition",required:"",placeholder:"Contoh: user@email.com"},null,512),[[M,a.phone_number]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Role",-1)),b(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>a.role=s),class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-fuchsia-200 focus:border-fuchsia-400 outline-none transition bg-white",required:"",disabled:""},[...t[26]||(t[26]=[e("option",{value:"cashier"},"Cashier",-1)])],512),[[S,a.role]]),t[28]||(t[28]=e("p",{class:"text-xs text-gray-500 mt-1"},"Saat ini hanya role Cashier yang tersedia.",-1))]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password",-1)),b(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>a.password=s),type:"password",class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-fuchsia-200 focus:border-fuchsia-400 outline-none transition",required:"",placeholder:"******"},null,512),[[M,a.password]])]),e("div",ce,[e("button",{type:"button",onClick:t[7]||(t[7]=s=>c.value=!1),class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition"},"Batal"),e("button",{type:"submit",disabled:h.value,class:"flex-1 px-4 py-2 bg-fuchsia-600 text-white rounded-lg hover:bg-fuchsia-700 font-medium transition shadow-sm disabled:opacity-50"},l(h.value?"Menyimpan...":"Simpan"),9,pe)])],32)])])):k("",!0)])),(o(),w(C,{to:"body"},[i.show?(o(),n("div",{key:0,class:T(["fixed top-4 right-4 z-[100000] flex items-center p-4 rounded-xl shadow-2xl transition-all duration-300 transform translate-y-0",{"bg-red-50 text-red-800 border-l-4 border-red-500":i.type==="error","bg-green-50 text-green-800 border-l-4 border-green-500":i.type==="success"}])},[e("div",me,[i.type==="error"?(o(),n("svg",he,[...t[30]||(t[30]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):(o(),n("svg",fe,[...t[31]||(t[31]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])]))]),e("div",null,[e("h4",ge,l(i.type==="error"?"Error":"Sukses"),1),e("p",xe,l(i.message),1)]),e("button",{onClick:t[8]||(t[8]=s=>i.show=!1),class:"ml-4 text-gray-400 hover:text-gray-600"},[...t[32]||(t[32]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])],2)):k("",!0)])),(o(),w(C,{to:"body"},[d.show?(o(),n("div",be,[e("div",ve,[t[34]||(t[34]=e("div",{class:"bg-gradient-to-r from-red-500 to-pink-500 px-6 py-4 flex items-center gap-3"},[e("div",{class:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),e("div",{class:"flex-1"},[e("h3",{class:"font-bold text-white text-lg"},"Konfirmasi Hapus"),e("p",{class:"text-white/80 text-sm"},"Tindakan ini tidak dapat dibatalkan")])],-1)),e("div",ye,[t[33]||(t[33]=e("p",{class:"text-gray-600 text-center mb-2"},"Apakah Anda yakin ingin menghapus user ini?",-1)),e("p",we,l(d.userName),1)]),e("div",ke,[e("button",{onClick:t[9]||(t[9]=s=>d.show=!1),class:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition"}," Batal "),e("button",{onClick:z,class:"flex-1 px-4 py-2.5 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-lg hover:from-red-600 hover:to-pink-600 font-medium transition shadow-lg"}," Ya, Hapus ")])])])):k("",!0)]))]))}};export{_e as default};
