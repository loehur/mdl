import{r,c as i,a as t,b as B,d as k,w as h,e as p,v,t as m,f as y,g as V,h as j,n as z,i as N,u as T,o as u}from"./index-BsNrQx7G.js";const O={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-rose-100 via-pink-50 to-fuchsia-100 relative overflow-hidden"},L={class:"w-full max-w-md px-6 py-8 relative z-10"},A={class:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/50"},K={key:0},U={class:"relative"},q={class:"relative"},H={class:"relative"},P={class:"relative"},D=["disabled"],E={key:0,class:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none"},J={class:"mt-6 text-center"},R={class:"text-sm text-gray-600"},I={key:1},$={class:"text-center mb-6"},F={class:"text-sm text-gray-600"},G={class:"font-semibold"},Q=["disabled"],W={key:0,class:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none"},Z={__name:"Register",setup(X){const w=T(),b=r(""),d=r(""),f=r(""),g=r(""),c=r(""),x=r(1),o=r(""),s=r(!1),a=r(!1);async function M(){if(f.value!==g.value){o.value="Kata sandi tidak cocok",a.value=!0;return}o.value="",s.value=!0,a.value=!1;try{const n=await fetch("/api/Beauty_Salon/Auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b.value,email:d.value,password:f.value})}),e=await n.json().catch(()=>({success:!1}));if(!n.ok||!e.success){o.value=e.message||"Pendaftaran gagal",a.value=!0,s.value=!1;return}c.value="",x.value=2,o.value=e.message||"OTP dikirim ke Email Anda",s.value=!1}catch{o.value="Network error",a.value=!0,s.value=!1}}async function S(){o.value="",s.value=!0,a.value=!1;try{const n=await fetch("/api/Beauty_Salon/Auth/verify-register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d.value,otp:c.value})}),e=await n.json().catch(()=>({success:!1}));if(!n.ok||!e.success){o.value=e.message||"Verifikasi gagal",a.value=!0,s.value=!1;return}o.value="Registrasi berhasil! Mengalihkan...";try{e.user&&localStorage.setItem("salon_user",JSON.stringify(e.user))}catch{}setTimeout(()=>{w.push("/order")},1500)}catch{o.value="Network error",a.value=!0,s.value=!1}}return(n,e)=>{const C=N("router-link");return u(),i("div",O,[e[25]||(e[25]=t("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[t("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-pink-300/30 rounded-full blur-3xl"}),t("div",{class:"absolute -bottom-40 -left-40 w-96 h-96 bg-fuchsia-300/30 rounded-full blur-3xl"}),t("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-rose-200/20 rounded-full blur-3xl"})],-1)),t("div",L,[e[23]||(e[23]=B('<div class="text-center mb-8"><div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-pink-500 to-fuchsia-600 shadow-xl mb-4"><svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path></svg></div><h1 class="text-3xl font-bold bg-gradient-to-r from-pink-600 to-fuchsia-600 bg-clip-text text-transparent mb-2">Beauty Salon</h1><p class="text-gray-600">Buat akun baru Anda</p></div>',1)),t("div",A,[x.value===1?(u(),i("div",K,[e[17]||(e[17]=t("h2",{class:"text-2xl font-bold text-gray-800 mb-6"},"Daftar",-1)),t("form",{class:"space-y-4",onSubmit:h(M,["prevent"])},[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nama Lengkap",-1)),t("div",U,[e[6]||(e[6]=t("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[t("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>b.value=l),class:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-200 focus:border-pink-400 outline-none transition bg-white/50",type:"text",placeholder:"Nama Anda",required:""},null,512),[[v,b.value]])])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email",-1)),t("div",q,[e[8]||(e[8]=t("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[t("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>d.value=l),class:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-200 focus:border-pink-400 outline-none transition bg-white/50",type:"email",placeholder:"nama@email.com",required:""},null,512),[[v,d.value]])])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kata Sandi",-1)),t("div",H,[e[10]||(e[10]=t("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[t("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),p(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>f.value=l),class:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-200 focus:border-pink-400 outline-none transition bg-white/50",type:"password",placeholder:"Minimal 6 karakter",required:""},null,512),[[v,f.value]])])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Konfirmasi Kata Sandi",-1)),t("div",P,[e[12]||(e[12]=t("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[t("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),p(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>g.value=l),class:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-200 focus:border-pink-400 outline-none transition bg-white/50",type:"password",placeholder:"Ulangi kata sandi",required:""},null,512),[[v,g.value]])])]),t("button",{class:"w-full py-3 rounded-xl bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",type:"submit",disabled:s.value},[s.value?(u(),i("svg",E,[...e[14]||(e[14]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)])])):k("",!0),t("span",null,m(s.value?"Memproses...":"Daftar"),1)],8,D)],32),t("div",J,[t("p",R,[e[16]||(e[16]=y(" Sudah punya akun? ",-1)),V(C,{to:"/login",class:"text-pink-600 font-semibold hover:text-pink-700"},{default:j(()=>[...e[15]||(e[15]=[y("Masuk",-1)])]),_:1})])])])):(u(),i("div",I,[t("div",$,[e[20]||(e[20]=t("div",{class:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-pink-100 to-fuchsia-100 mb-4"},[t("svg",{class:"w-8 h-8 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1)),e[21]||(e[21]=t("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Verifikasi OTP",-1)),t("p",F,[e[18]||(e[18]=y("Kode verifikasi dikirim ke",-1)),e[19]||(e[19]=t("br",null,null,-1)),t("span",G,m(d.value),1)])]),t("form",{class:"space-y-4",onSubmit:h(S,["prevent"])},[t("div",null,[p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>c.value=l),autocomplete:"one-time-code",class:"w-full px-4 py-4 border border-gray-200 rounded-xl text-center text-2xl tracking-widest font-mono focus:ring-2 focus:ring-pink-200 focus:border-pink-400 outline-none transition bg-white/50",type:"text",maxlength:"6",placeholder:"      ",required:""},null,512),[[v,c.value]])]),t("button",{class:"w-full py-3 rounded-xl bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-2",type:"submit",disabled:s.value},[s.value?(u(),i("svg",W,[...e[22]||(e[22]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)])])):k("",!0),t("span",null,m(s.value?"Memverifikasi...":"Verifikasi"),1)],8,Q),t("button",{type:"button",onClick:e[5]||(e[5]=l=>x.value=1),class:"w-full text-sm text-gray-600 hover:text-pink-600 transition"},"← Kembali")],32)])),o.value?(u(),i("div",{key:2,class:z(["mt-4 p-3 rounded-lg text-sm font-medium",a.value?"bg-red-50 text-red-700 border border-red-200":"bg-green-50 text-green-700 border border-green-200"])},m(o.value),3)):k("",!0)]),e[24]||(e[24]=t("p",{class:"text-center text-xs text-gray-500 mt-6"},"© 2025 Beauty Salon. All rights reserved.",-1))])])}}};export{Z as default};
